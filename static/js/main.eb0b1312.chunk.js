(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{20:function(e,c,t){},22:function(e,c,t){},23:function(e,c,t){},24:function(e,c,t){},25:function(e,c,t){},26:function(e,c,t){},27:function(e,c,t){},28:function(e,c,t){"use strict";t.r(c);var n=t(1),s=t(8),i=t(10),a=t(9),r=t(4),l=t(2),j=t(6),o=t.n(j),d=(t(20),{calories:"\u041a\u043a\u0430\u043b",protein:"\u0411\u0435\u043b\u043a\u0438",fat:"\u0416\u0438\u0440\u044b",carbs:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b"}),u=t(0),b=function(e){var c=e.id,t=e.img,n=e.title,s=e.indicators,i=e.weight,a=e.incrItem,r=e.decrItem,l=e.countInOrder;return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"line",children:[Object(u.jsx)("img",{className:"picture",alt:c,src:t}),Object(u.jsxs)("div",{className:"indicators",children:[Object.keys(s).map((function(e){return Object(u.jsxs)("div",{className:"indicators-line",children:[Object(u.jsx)("span",{children:d[e]}),Object(u.jsx)("span",{children:s[e]})]},"".concat(c,"-").concat(e))})),Object(u.jsxs)("div",{className:"indicators-line",children:[Object(u.jsx)("span",{children:"\u0412\u0435\u0441"}),Object(u.jsxs)("span",{children:[i," \u0433\u0440"]})]})]})]}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("p",{className:"title",children:n}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)("button",{onClick:r(c),disabled:0===l,children:"\u2212"}),Object(u.jsx)("span",{children:l}),Object(u.jsx)("button",{onClick:a(c),children:"+"})]})]})]})},O=(t(22),function(e){var c,t=e.orderList,n=e.children,s=e.products,i=e.onBasketClick,a=e.isBasketOpen,r={calories:0,protein:0,fat:0,carbs:0,weight:0},l=function(e){var c=t[e],n=s.find((function(c){return c.id===e}));if(n){var i=n.indicators;Object.keys(i).forEach((function(e){r[e]+=i[e]*c})),r.weight+=n.weight*c}};for(var j in t)l(j);return Object(u.jsxs)("header",{children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"indicator calories",children:[Object(u.jsx)("span",{className:"value",children:r.calories}),Object(u.jsx)("span",{className:"label",children:"\u041a\u043a\u0430\u043b"})]}),Object(u.jsxs)("div",{className:"indicators",children:[Object(u.jsxs)("div",{className:"indicator protein",children:[Object(u.jsx)("span",{className:"value",children:r.protein}),Object(u.jsx)("span",{className:"label",children:"\u0411\u0435\u043b\u043a\u0438"})]}),Object(u.jsxs)("div",{className:"indicator fat",children:[Object(u.jsx)("span",{className:"value",children:r.fat}),Object(u.jsx)("span",{className:"label",children:"\u0416\u0438\u0440\u044b"})]}),Object(u.jsxs)("div",{className:"indicator carbs",children:[Object(u.jsx)("span",{className:"value",children:r.carbs}),Object(u.jsx)("span",{className:"label",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b"})]})]}),Object(u.jsxs)("div",{className:"indicator",children:[Object(u.jsx)("span",{className:"value",children:r.weight>1e3?(.001*r.weight).toFixed(1):r.weight}),Object(u.jsx)("span",{className:"label",children:(c=r.weight,c>1e3?"\u043a\u0433":"\u0433\u0440\u0430\u043c\u043c")})]}),Object(u.jsx)("div",{className:"basket",children:Object(u.jsx)("i",{className:"icon icon-".concat(a?"food":"cart"),onClick:i,style:{fontSize:"30px",color:"white"}})})]}),n]})}),h=(t(23),{all:"\u0412\u0441\u0435 \u0431\u043b\u044e\u0434\u0430",breakfasts:"\u0417\u0430\u0432\u0442\u0440\u0430\u043a\u0438",salad:"\u0421\u0430\u043b\u0430\u0442",soup:"\u0421\u0443\u043f",chicken:"\u041f\u0442\u0438\u0446\u0430",meat:"\u041c\u044f\u0441\u043e",fish:"\u0420\u044b\u0431\u0430 \u0438 \u043c\u043e\u0440\u0435",sidedishes:"\u0413\u0430\u0440\u043d\u0438\u0440\u044b",dessert:"\u0414\u0435\u0441\u0435\u0440\u0442",drinks:"\u041d\u0430\u043f\u0438\u0442\u043a\u0438",sets:"\u041d\u0430\u0431\u043e\u0440\u044b",barbecue:"\u0428\u0430\u0448\u043b\u044b\u043a",freeze:"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430"}),f=function(e){var c=e.counts,t=e.data,n=e.active,s=e.onClick;return Object(u.jsx)("ul",{className:"categories",children:t.map((function(e){var t="category".concat(n===e?" active":"");return Object(u.jsxs)("li",{name:e,onClick:s(e),className:t,children:[h[e],c[e]>0&&Object(u.jsx)("div",{className:"count",children:Object(u.jsx)("span",{children:c[e]})})]},e)}))})},x=(t(24),function(e){var c=e.children;return Object(u.jsx)("div",{className:"cards",children:c})}),m=(t(25),function(){return Object(u.jsx)("section",{className:"loading",children:Object(u.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}),p=(t(26),function(e){var c=e.children;return Object(u.jsxs)("div",{className:"info-text",children:[Object(u.jsx)("div",{className:"info-text-icon-basket"}),Object(u.jsx)("p",{children:c})]})}),v=(t(27),"all"),N=["sets","freeze","barbecue"],g=function(){var e=Object(n.useState)(!0),c=Object(l.a)(e,2),t=c[0],s=c[1],j=Object(n.useState)(null),d=Object(l.a)(j,2),h=d[0],g=d[1],k=Object(n.useState)(null),y=Object(l.a)(k,2),w=y[0],S=y[1],I=Object(n.useState)(null),C=Object(l.a)(I,2),z=C[0],B=C[1],E=Object(n.useState)({}),J=Object(l.a)(E,2),F=J[0],L=J[1],A=Object(n.useState)(!1),M=Object(l.a)(A,2),R=M[0],q=M[1],D=function(e){return function(){var c=Object(r.a)({},F);c[e]?c[e]+=1:c[e]=1,L(c),H(c)}},G=function(e){return function(){var c=Object(r.a)({},F);c[e]-=1,0===c[e]&&delete c[e],L(c),H(c)}},H=function(e){localStorage.setItem("order",JSON.stringify(e))};Object(n.useEffect)((function(){function e(){return(e=Object(a.a)(o.a.mark((function e(){var c,t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,fetch("https://justpilz.github.io/mkitchen-page/products.json");case 3:return c=e.sent,e.next=6,c.json();case 6:c=e.sent,(t=Object(i.a)(new Set(c.filter((function(e){var c=e.category;return!N.includes(c)})).map((function(e){return e.category}))))).unshift(v),g(c),S(t),B(t[0]),(n=localStorage.getItem("order"))&&(a=Object.fromEntries(Object.entries(JSON.parse(n)).filter((function(e){var t=Object(l.a)(e,1)[0];return null!==c[t]}))),L(a),H(a)),s(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var K=Object.keys(F),P=R?K.length?K.map((function(e){return h.find((function(c){return c.id===e}))})):[]:h,Q=null===P||void 0===P?void 0:P.filter((function(e){var c=e.category;return!N.includes(c)&&(c===z||z===v)})),T=K.length?K.reduce((function(e,c){var t=h.find((function(e){return e.id===c}));return e[t.category]||(e[t.category]=0),e[t.category]+=F[c],e}),{}):{};return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)("main",{children:t||!w?Object(u.jsx)(m,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{orderList:F,products:P,onBasketClick:function(){q(!R)},isBasketOpen:R,children:Object(u.jsx)(f,{counts:T,data:w,active:z,onClick:function(e){return function(){B(e)}}})}),Q.length?Object(u.jsx)(x,{children:null===Q||void 0===Q?void 0:Q.map((function(e){return Object(u.jsx)(b,Object(r.a)(Object(r.a)({},e),{},{incrItem:D,decrItem:G,countInOrder:F[e.id]||0}),"".concat(e.category,"-").concat(e.id))}))}):Object(u.jsxs)(p,{children:[K.length?"\u0412\xa0\u044d\u0442\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e.":"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430\xa0",Object(u.jsx)("i",{className:"icon icon-food",style:{fontSize:"20px"}})," ","\u0432\xa0\u0432\u0435\u0440\u0445\u043d\u0435\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0434\u043b\u044f\xa0\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 \u043a\xa0\u043c\u0435\u043d\u044e \u0438\xa0\u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0447\u0442\u043e\u2011\u043d\u0438\u0431\u0443\u0434\u044c \u0432\u043a\u0443\u0441\u043d\u0435\u043d\u044c\u043a\u043e\u0435."]})]})})})},k=document.getElementById("root");Object(s.createRoot)(k).render(Object(u.jsx)(n.StrictMode,{children:Object(u.jsx)(g,{})}))}},[[28,1,2]]]);
//# sourceMappingURL=main.eb0b1312.chunk.js.map